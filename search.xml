<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[mbr与gpt的转换命令]]></title>
    <url>%2F2018%2F01%2F24%2Fmbr%E4%B8%8Egpt%E7%9A%84%E8%BD%AC%E6%8D%A2%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[什么叫MBR和GPT1、MBR分区类型的磁盘主引导记录（Master Boot Record，缩写：MBR），又叫做主引导扇区，它仅仅包含一个64个字节的硬盘分区表。它是将分区信息保存到磁盘的第一个扇区(MBR扇区)中的64个字节中，每个分区项占用16个字节，这16个字节中存有活动状态标志、文件系统标识、起止柱面号、磁头号、扇区号、隐含扇区数目(4个字节)、分区总扇区数目(4个字节)等内容。由于每个分区信息需要16个字节，所以对于采用MBR型分区结构的硬盘，最多只能识别4个主要分区（Primary partition），这就是硬盘主分区数目不能超过4个的原因。所以对于一个采用此种分区结构的硬盘来说，想要得到4个以上的主要分区是不可能的。这里就需要引出扩展分区了。扩展分区也是主要分区的一种，但它与主分区的不同在于理论上可以划分为无数个逻辑分区。另外，最关键的是MBR分区方案无法支持超过2TB容量的磁盘。因为这一方案用4个字节存储分区的总扇区数，最大能表示2的32次方的扇区个数，按每扇区512字节计算，每个分区最大不能超过2TB。磁盘容量超过2TB以后，分区的起始位置也就无法表示了。 2、GUID分区类型的磁盘这种磁盘，我们通常称为GPT磁盘，GPT全称：Globally Unique Identifier Partition Table Format。它是一种由基于 Itanium 计算机中的可扩展固件接口 (EFI) 使用的磁盘分区架构。与MBR分区方法相比，GPT 具有更多的优点，因为它允许每个磁盘有多达128个分区，支持高达 18 千兆兆字节的卷大小，允许将主磁盘分区表和备份磁盘分区表用于冗余，还支持唯一的磁盘和分区 ID (GUID)。与支持最大卷为2TB并且每个磁盘最多有4个主分区（或3个主分区，1个扩展分区和无限制的逻辑驱动器）的MBR磁盘分区的样式相比，GUID 分区表 (GPT) 磁盘分区样式支持最大卷为 18 EB (1EB=1024PB，1PB=1024TB，1TB=1024GB，1GB=1024MB，1MB=1024KB) 并且每磁盘最多有128个分区。与MBR分区的磁盘不同，至关重要的平台操作数据位于分区，而不是位于非分区或隐藏扇区。另外，GPT分区磁盘有多余的主要及备份分区表来提高分区数据结构的完整性。 diskpart命令diskpart命令其实是windows系统自带的一个命令行分区工具。利用diskpart可实现对硬盘的分区管理，包括创建分区、删除分区、合并（扩展）分区，完全可取代第三方工具软件。它还有别的功能，如设置动态磁盘、镜像卷等，而且设置分区后不用重启电脑也能生效。主要语法： 1、显示磁盘配置的命令list disk - 显示磁盘列表。list partition - 显示所选磁盘上的分区列表。list volume - 显示卷列表。list vdisk - 显示虚拟磁盘列表。 2、设置焦点的命令diskpart -显示Diskpart 版本及当前计算机名称。select disk n -焦点设置给具有指定Windows NT磁盘号n的磁盘，n可以有list disk命令查看。如果未指定磁盘号，该命令将显示当前处于焦点的磁盘。select partition n -将焦点设置给指定分区。如果未指定分区，则显示当前处于焦点的分区。select volume x -将焦点设置给指定卷。如果未指定卷，该命令将显示当前处于焦点的卷。select vdisk file=x:\xxx.vhd -焦点设置给指定的虚拟磁盘文件。 3、管理基本磁盘的命令active -将当前处于焦点的分区设置为“活动的”。assign [[letter=l]/[mount=path]] -为当前处于焦点的分区分配驱动器号或装入点。如果未指定驱动器号，则分配下一个可用驱动器号。create partition primary [size=n] [offset=n] [id=byte/guid] -在当前驱动器上以一定长度大小和起始地址偏移量创建一个主分区。如果在MBR磁盘上未指定ID字节，此命令将使用类型“0x6”创建分区。可以使用ID参数指定分区类型。如果未在GPT磁盘上指定ID GUID，此命令将创建Msdata分区。可以使用ID参数指定任何 GUID。create partition extended [size=n] [offset=n] -在当前驱动器上以一定长度大小和起始地址偏移量创建一个扩展分区。驱动器必须是 MBR 磁盘。create partition logical [size=n] [offset=n] -在当前磁盘的现有扩展分区中以一定长度大小和起始地址偏移量创建一个逻辑驱动器。驱动器必须是 MBR 磁盘。delete partition [override] -删除当前处于焦点的分区。Diskpart 禁止删除当前系统、启动或分页卷。要删除 ESP、MSR 或已知OEM分区，必须指定override参数。extend [size=n] -当前处于焦点的卷扩展到未分配的连续空间。未分配空间必须在处于焦点的分区之后（前者的扇区偏移量必须大于后者）。remove [[letter=l]/[mount=path]/[all]] -删除当前处于焦点的分区的驱动器号或装入点。如果指定all参数，则删除所有当前驱动器号和装入点。如果未指定驱动器号或装入点，则删除驱动器号。 4、管理动态磁盘的命令active -将当前处于焦点的卷设置为“活动的”。此设置通知固件此分区是有效系统分区。add disk=n -向指定磁盘上的当前处于焦点的卷添加镜像。assign [[letter=l]/[mount=path]] -为当前处于焦点的卷分配驱动器号或装入点。如果未指定驱动器号，则分配下一个可用驱动器号。break disk=n [nokeep] -断开当前处于焦点的镜像。create volume simple [size=n] [disk=n] -在指定磁盘上以一定长度大小创建一个简单卷。create volume stripe [size=n] disk=n[,n[,…]] -在指定磁盘上创建带区集卷。如果未指定大小，则创建尽可能大的带区卷。create volume raid [size=n] disk=n[,n[,…]] -在指定磁盘上创建 Raid-5 集卷。每一个磁盘上均分配相当于“Raid-5 卷大小”的空间量。如果未指定大小，则创建尽可能大的 Raid 5 卷。delete disk [override] -从磁盘列表中删除缺失的动态磁盘。如果未指定 override 参数，将删除磁盘上包含的所有简单卷，并删除所有镜像丛。delete partition [override] -删除当前处于焦点的分区。禁止删除用于包含现有在线动态卷的任何分区。要删除 ESP、MSR 或已知 OEM 分区，需指定 override 参数。delete volume -删除当前处于焦点的卷。使用此命令后，将丢失所有数据。extend disk=n [size=n] -将当前简单卷或扩展卷扩展到指定磁盘上。如果未指定大小，此卷可占用指定磁盘上的所有空闲空间。import -导入外部磁盘组中的所有磁盘。online -使以前离线的磁盘或卷重新在线。remove [[letter=l]/[mount=path]/[all]] -删除当前处于焦点的卷的驱动器号或装入点。如果使用 all 参数，将删除所有当前驱动器号和装入点。retain -准备将动态简单卷用作启动或系统卷 5、转换磁盘的命令convert mbr -将当前磁盘的分区形式设置为 MBR。可以是基本磁盘或动态磁盘。切勿包含任何有效数据分区或卷。convert gpt -将当前磁盘的分区形式设置为 GPT。可以是基本磁盘或动态磁盘。切勿包含任何有效数据分区或卷。convert dynamic -将基本磁盘改为动态磁盘。磁盘可以包含有效数据分区。convert basic -将空的动态磁盘转换为基本磁盘。 6、其他命令exit -停止 Diskpart 并将控制权返回给操作系统。clean [all] -通过将扇区清零，从当前处于焦点的磁盘删除分区或将卷格式化。默认情况下，仅改写 MBR 或 GPT 分区信息及任何有关 MBR 磁盘的隐藏扇区信息。如果指定 all 参数，可将每个扇区都清零，同时可删除驱动器上包含的所有数据。rem […] -不执行任何操作，但您可以使用此命令注释脚本文件。rescan -重新扫描所有 I/O 总线并可因此发现添加到计算机上的任何新磁盘。format -格式化卷或分区.attach -连接虚拟磁盘文件。detach -分离虚拟磁盘文件。 7、帮助命令help -显示所有命令列表。 mbr2gpt命令mbr2gpt命令可将磁盘从MBR转换为GPT分区形式，无需修改或删除磁盘上的数据。该工具从windows预安装环境(windowsPE) 命令提示符运行，但也可以通过使用 /allowfullos 选项从完整的windows 10 操作系统运行。mbr2gpt命令位于windows 10版本1703或更高版本的计算机的windows\system32 目录下。该工具也在完整的操作系统环境和windowsPE中提供。若要在使用配置管理器或 Microsoft 部署工具包 (MDT) 的部署任务序列中使用此工具，必须先使用windows ADK 1703 或更高版本更新windowsPE映像。用该命令对磁盘进行任何更改之前，mbr2gpt会验证所选磁盘的布局和几何图形，以确保：磁盘正在使用 MBR，有足够的分区未占用空间可以存储主要和辅助 GPT（磁盘前部有 16 KB + 2 个扇区，磁盘后部有 16 KB + 1 个扇区）。MBR 分区表中最多有 3 个主分区。其中一个分区被设置为活动，并作为系统分区。磁盘没有任何扩展/逻辑分区。系统分区中的 BCD 存储包含一个指向 OS 分区的默认 OS 项。可以为每个具有已分配驱动器号的卷检索卷 ID。磁盘上的所有分区均为windows可识别的MBR类型，或具有使用 /map 的命令行选项指定的映射，如果任意检查失败，将不会继续转换，并将返回错误。语法为：/validate-指示mbr2gpt仅执行磁盘验证步骤，并报告磁盘是否有资格进行转换。/convert-指示mbr2gpt执行磁盘验证，如果通过所有验证测试，可继续进行转换。/disk:-指定转换为GPT的磁盘编号，如果不指定，则使用系统磁盘。/logs:-指定应写入mbr2gpt日志的目录。如果不指定，则使用 %windir%。如果指定，目录必须已经存在，它不会自动创建或被覆盖。/map:=-指定 MBR 和 GPT 之间的其他分区类型映射。/allowFullOS-默认情况下会阻止mbr2gpt，除非从windows PE 运行。在完整的 windows 环境中运行时，该选项将覆盖此块，并启用磁盘转换。官方文档]]></content>
      <categories>
        <category>知识分享</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PPT分享]]></title>
    <url>%2F2018%2F01%2F21%2FPPT%E5%88%86%E4%BA%AB%2F</url>
    <content type="text"><![CDATA[无论是学习还是办公，我们都需要用到ppt，那么怎样让你的ppt变得高大上呢？当然是需要模板的加持，好的模板不仅让你的ppt漂亮起来，更是让你节省不少时间。 下载地址： 百度网盘 密码：izkw]]></content>
      <categories>
        <category>资源分享</category>
      </categories>
      <tags>
        <tag>office</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[秋的问候]]></title>
    <url>%2F2018%2F01%2F17%2F%E7%A7%8B%E7%9A%84%E9%97%AE%E5%80%99%2F</url>
    <content type="text"><![CDATA[这是属于秋秋的第一篇文章，给大家问个好。]]></content>
  </entry>
</search>
